[gcode_macro Z_TILT_ADJUST]
rename_existing: BASE_Z_TILT_ADJUST
gcode:
    SAVE_GCODE_STATE NAME=ZTILTADJUST
    RESET_LIMITS
    {% if not printer.z_tilt.applied %}
        BASE_Z_TILT_ADJUST HORIZONTAL_MOVE_Z=10 RETRY_TOLERANCE=1
    {% endif %}
    BASE_Z_TILT_ADJUST HORIZONTAL_MOVE_Z=2
    RESTORE_GCODE_STATE NAME=ZTILTADJUST

[gcode_macro BED_MESH_CALIBRATE]
rename_existing: BASE_BED_MESH_CALIBRATE
gcode:
    SAVE_GCODE_STATE NAME=BEDMESHCALIBRATE
    RESET_LIMITS
    BASE_BED_MESH_CALIBRATE
    RESTORE_GCODE_STATE NAME=BEDMESHCALIBRATE

[gcode_macro POKE_PROBE]
gcode:
    BEACON_POKE speed=3 top=5 bottom=-0.3